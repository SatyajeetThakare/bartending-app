<div class="bg">
  <div class="container-fluid login-container">

    <div class="row">
      <div class="offset-md-7 col-lg-4 col-md-4 col-sm-12">
        <mat-card class="m-3 p-5 text-center">
          <form [formGroup]="loginForm" (ngSubmit)="submitLogin()">

            <h4>Welcome,</h4>
            <br/>
            <h6>Please log in to your acoount</h6>

            <br/>
            <br/>

            <div class="form-group">
              <div class="row">
                <div class="col-sm-12">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Username</mat-label>
                    <input matInput id="username" placeholder="Username" formControlName="userName" required>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <div class="form-group">
              <div class="row">
                <div class="col-sm-12">
                  <mat-form-field class="example-full-width" appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput id="accountPassword" type="password" placeholder="Password" formControlName="password" [(ngModel)]="Account_Password_Text" required>
                    <i toggle="#password-field" class="fas fa-eye field-icon toggle-password" *ngIf="!displayText" (click)="Account_Password_Text && togglePasswordVisibility()"></i>
                    <i toggle="#password-field" class="fas fa-eye-slash field-icon toggle-password" *ngIf="displayText" (click)="hidePassword()"></i>
                  </mat-form-field>
                </div>
              </div>
            </div>

            <!-- <div class="form-group"> -->
              <div class="row" style="margin-top: -15px;">
                <div class="col-sm-6">
                  <!-- Remember he toggle button here -->
                </div>
                <div class="col-sm-6 text-right">
                  <button type="button" class="btn btn-link btn-link-grey" (click)="forgotPassword(template)">Forgot Password</button>
                </div>
              </div>
            <!-- </div> -->

            <br/>

            <div class="form-group">
              <div class="row">
                <div class="offset-sm-3 col-sm-6">
                  <button mat-raised-button type="submit" [disabled]="loginForm.invalid || showLoading"
                    class="btn btn-login btn-block" color="accent">Login&nbsp;
                    <i class="fas fa-spinner ml-2" *ngIf="showLoading"></i>
                  </button>
                </div>
              </div>
            </div>

          </form>
        </mat-card>
      </div>
    </div>

    <!-- The Modal -->
    <ng-template #template>

      <!-- Modal Header -->
      <div class="modal-header modal-header-row">
        <h6 class="modal-title">Forgot password</h6>
        <button type="button" class="close" (click)="closeModal();">&times;</button>
      </div>

      <!-- Modal body -->
      <div class="modal-body">
        <mat-form-field class="example-full-width">
          <input type="text" matInput id="user_name" placeholder="Enter username" [(ngModel)]="user_name">
        </mat-form-field>
        <!-- <input type="email" class="form-control form-control-sm input-login-control" [(ngModel)]="user_name" placeholder="Enter email id" /> -->
        <br/>
        <br/>
        <p class="text-warning"><em>Make sure your user name is correct, an email with your password will be sent to your registered email account</em></p>
      </div>
      <br/>
      <div class="modal-footer">
        <div class="col-sm-8"></div>
        <button type="button" mat-raised-button class="btn btn-sm btn-block col-sm-2 mr-3" (click)="closeModal()">BACK</button>
        <button type="submit" mat-raised-button class="btn btn-sm btn-block col-sm-2 btn-primary" color="primary"
          [disabled]="user_name == null || user_name == ''" (click)="sendPassword();">PROCEED</button>
      </div>
    </ng-template>

  </div>
  
</div>
